@using MvcContrib.UI.Grid;
@using MHCP.Domain.BoundedContexts.DRG;

@model Pedido

@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <h2>Hello World!</h2>
    @Html.EditorForModel()

    <fieldset>
        <legend>Articulos</legend>
        <div data-demo-ajax="list-order-items">
            @Html.EditorFor(x => x.Articulos)
        </div>
        <p>
            <a href="#" data-demo-ajax="add-order-item" data-demo-ajax-url="@Url.Action("AgregarArticulo", "Home")">Agregar Articulo</a>
        </p>
    </fieldset>


    @section Scripts
{
    <script type="text/javascript">
        $(function () {
            $('a[data-demo-ajax=add-order-item]').click(function () {
                var url = $(this).data('demo-ajax-url');
                var ul = $('div[data-demo-ajax=list-order-items] ul');
                $.ajax({
                    url: url,
                    success: function (html) {
                        $('<li />').html(html).appendTo(ul);                        
                    }
                });
                return false;
            });
        });
    </script>
}
 